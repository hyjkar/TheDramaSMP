<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Invitational</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        golf: {
                            dark: '#0A2615',   /* Augusta Green */
                            deep: '#1B4D3E',   /* Secondary Green */
                            gold: '#C5A059',   /* Trophy Gold */
                            cream: '#F5F5F0',  /* Card Stock */
                            white: '#FFFFFF'
                        }
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Lato"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Custom Checkbox Styling */
        input[type="checkbox"]:checked + label {
            text-decoration: line-through;
            color: #9CA3AF;
        }
        
        #landscape-warning { display: none; }
        @media screen and (orientation: landscape) {
            #app-container { display: none; }
            #landscape-warning { display: flex; }
        }
    </style>
</head>
<body class="bg-golf-cream text-gray-800 font-sans antialiased h-screen overflow-hidden">

    <div id="landscape-warning" class="fixed inset-0 bg-golf-dark z-[100] flex flex-col items-center justify-center text-golf-gold p-10 text-center">
        <div class="text-6xl mb-4">‚ü≥</div>
        <h2 class="font-serif text-3xl mb-2">Portrait Mode Only</h2>
    </div>

    <div id="app-container" class="h-full flex flex-col max-w-md mx-auto bg-golf-cream shadow-2xl relative overflow-hidden">

        <header class="bg-golf-dark pt-6 pb-4 px-6 text-center rounded-b-[20px] shadow-lg shrink-0 z-10 relative">
            <h1 class="font-serif text-2xl text-white tracking-wide">THE INVITATIONAL</h1>
            
            <button onclick="document.getElementById('packing-modal').classList.remove('hidden')" class="mt-3 bg-golf-deep border border-golf-gold text-golf-gold text-[10px] uppercase tracking-widest py-1.5 px-5 rounded-full hover:bg-black transition flex items-center justify-center mx-auto gap-2">
                <span>‚úì</span> Packing List
            </button>
        </header>

        <main class="flex-1 overflow-y-auto no-scrollbar p-3 space-y-3 pb-12">
            
            <div class="bg-white p-3 px-4 rounded-sm border-t-2 border-golf-gold shadow-sm">
                <div class="flex justify-between items-center mb-1 border-b border-gray-100 pb-1">
                    <h3 class="font-serif text-base text-golf-deep font-bold">Flight Plan</h3>
                    <span class="text-lg">‚úàÔ∏è</span>
                </div>
                <p id="view-flight" class="whitespace-pre-line text-xs leading-relaxed text-gray-600">Loading...</p>
            </div>

            <div class="bg-white p-3 px-4 rounded-sm border-t-2 border-golf-dark shadow-sm">
                <div class="flex justify-between items-center mb-1 border-b border-gray-100 pb-1">
                    <h3 class="font-serif text-base text-golf-deep font-bold">Golf Rounds</h3>
                    <span class="text-lg">‚õ≥</span>
                </div>
                <p id="view-rounds" class="whitespace-pre-line text-xs leading-relaxed text-gray-600">Loading...</p>
            </div>

            <div class="bg-white p-3 px-4 rounded-sm border-t-2 border-golf-deep shadow-sm">
                <div class="flex justify-between items-center mb-1 border-b border-gray-100 pb-1">
                    <h3 class="font-serif text-base text-golf-deep font-bold">Accommodation</h3>
                    <span class="text-lg">üè®</span>
                </div>
                <p id="view-hotel" class="whitespace-pre-line text-xs leading-relaxed text-gray-600">Loading...</p>
            </div>

            <div class="bg-white p-3 px-4 rounded-sm border-t-2 border-golf-gold shadow-sm">
                <div class="flex justify-between items-center mb-1 border-b border-gray-100 pb-1">
                    <h3 class="font-serif text-base text-golf-deep font-bold">Dining & Events</h3>
                    <span class="text-lg">üçΩÔ∏è</span>
                </div>
                <p id="view-dinner" class="whitespace-pre-line text-xs leading-relaxed text-gray-600">Loading...</p>
            </div>

            <div class="text-center pt-2">
                <button onclick="document.getElementById('login-modal').classList.remove('hidden')" class="text-[9px] text-gray-300 hover:text-golf-gold uppercase tracking-widest opacity-50">
                    Chairman Access
                </button>
            </div>
        </main>
    </div>

    <div id="packing-modal" class="hidden fixed inset-0 bg-golf-dark/95 z-50 flex flex-col items-center justify-center p-6 backdrop-blur-sm">
        <div class="bg-white w-full max-w-sm rounded-sm shadow-2xl overflow-hidden flex flex-col max-h-[80vh]">
            <div class="bg-golf-gold p-3 text-center">
                <h2 class="font-serif text-lg font-bold text-golf-dark">Checklist</h2>
            </div>
            <div class="p-6 overflow-y-auto space-y-3">
                <div class="flex items-center gap-3"><input type="checkbox" id="item1" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item1" class="cursor-pointer">Illallisvaatteet</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item2" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item2" class="cursor-pointer">Golfvaatteet</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item3" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item3" class="cursor-pointer">Golfpalloja</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item4" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item4" class="cursor-pointer">Teet</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item5" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item5" class="cursor-pointer">Mailat</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item6" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item6" class="cursor-pointer">Matkustusasiakirja</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item7" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item7" class="cursor-pointer">Golfkeng√§t</label></div>
                <div class="flex items-center gap-3"><input type="checkbox" id="item8" class="w-5 h-5 accent-golf-deep rounded cursor-pointer" onchange="saveChecklist()"><label for="item8" class="cursor-pointer">Golfhanskat</label></div>
            </div>
            <button onclick="document.getElementById('packing-modal').classList.add('hidden')" class="bg-gray-100 p-3 text-center text-xs font-bold text-gray-500 hover:bg-gray-200 uppercase tracking-wide">
                Close
            </button>
        </div>
    </div>

    <div id="login-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-6">
        <div class="bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl text-center">
            <h2 class="font-serif text-2xl text-golf-dark mb-6">Chairman Login</h2>
            <input type="email" id="email" placeholder="Email" class="w-full bg-gray-50 border-b-2 border-gray-200 p-3 mb-4 outline-none">
            <input type="password" id="password" placeholder="Password" class="w-full bg-gray-50 border-b-2 border-gray-200 p-3 mb-6 outline-none">
            <button id="btn-login" class="w-full bg-golf-dark text-golf-gold font-bold py-3 uppercase tracking-wider text-sm">Authenticate</button>
            <button onclick="document.getElementById('login-modal').classList.add('hidden')" class="mt-4 text-xs text-gray-400 underline">Cancel</button>
        </div>
    </div>

    <div id="editor-panel" class="hidden fixed inset-0 bg-gray-100 z-[60] flex flex-col">
        <div class="bg-golf-deep text-white p-4 flex justify-between items-center shadow-md">
            <h2 class="font-serif font-bold">Edit Itinerary</h2>
            <button onclick="document.getElementById('editor-panel').classList.add('hidden')" class="text-xs bg-black/20 px-3 py-1 rounded">Close</button>
        </div>
        <div class="flex-1 overflow-y-auto p-6 space-y-4">
            <div>
                <label class="block text-xs font-bold text-golf-dark uppercase mb-1">Flight Plan</label>
                <textarea id="edit-flight" rows="3" class="w-full p-3 text-sm border rounded"></textarea>
            </div>
            <div>
                <label class="block text-xs font-bold text-golf-dark uppercase mb-1">Golf Rounds</label>
                <textarea id="edit-rounds" rows="3" class="w-full p-3 text-sm border rounded"></textarea>
            </div>
            <div>
                <label class="block text-xs font-bold text-golf-dark uppercase mb-1">Accommodation</label>
                <textarea id="edit-hotel" rows="3" class="w-full p-3 text-sm border rounded"></textarea>
            </div>
            <div>
                <label class="block text-xs font-bold text-golf-dark uppercase mb-1">Dining</label>
                <textarea id="edit-dinner" rows="3" class="w-full p-3 text-sm border rounded"></textarea>
            </div>
            <button id="btn-save" class="w-full bg-golf-gold text-golf-dark font-bold py-4 rounded shadow-lg text-sm uppercase tracking-widest mt-4">
                Save Updates Live
            </button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, onSnapshot, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // üî•üî•üî• PASTE FIREBASE CONFIG HERE üî•üî•üî•
        const firebaseConfig = {
apiKey: "AIzaSyBQZPcQ6FcnglNHg10d__6PQDdd_OjT74U",
authDomain: "golfapp-10c53.firebaseapp.com",
projectId: "golfapp-10c53",
storageBucket: "golfapp-10c53.firebasestorage.app",
messagingSenderId: "251112200135",
appId: "1:251112200135:web:6b1d0386a2cc042ae8abe2"
        };
        // üî•üî•üî• END PASTE üî•üî•üî•

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const tripRef = doc(db, "trip", "details");

        // 1. DATA LISTENER
        onSnapshot(tripRef, (doc) => {
            if (doc.exists()) {
                const data = doc.data();
                
                // View Mode
                document.getElementById('view-flight').innerText = data.flights || "Details pending...";
                document.getElementById('view-rounds').innerText = data.rounds || "Course details pending...";
                document.getElementById('view-hotel').innerText = data.hotel || "Details pending...";
                document.getElementById('view-dinner').innerText = data.dinner || "Details pending...";
                
                // Edit Mode
                document.getElementById('edit-flight').value = data.flights || "";
                document.getElementById('edit-rounds').value = data.rounds || "";
                document.getElementById('edit-hotel').value = data.hotel || "";
                document.getElementById('edit-dinner').value = data.dinner || "";
            }
        });

        // 2. LOGIN
        document.getElementById('btn-login').addEventListener('click', async () => {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('password').value;
            try {
                await signInWithEmailAndPassword(auth, email, pass);
                document.getElementById('login-modal').classList.add('hidden');
                document.getElementById('editor-panel').classList.remove('hidden');
            } catch (error) {
                alert("Access Denied.");
            }
        });

        // 3. SAVE
        document.getElementById('btn-save').addEventListener('click', async () => {
            const btn = document.getElementById('btn-save');
            btn.innerText = "Saving...";
            try {
                await updateDoc(tripRef, {
                    flights: document.getElementById('edit-flight').value,
                    rounds: document.getElementById('edit-rounds').value,
                    hotel: document.getElementById('edit-hotel').value,
                    dinner: document.getElementById('edit-dinner').value
                });
                document.getElementById('editor-panel').classList.add('hidden');
            } catch (error) {
                alert("Error saving: " + error.message);
            }
            btn.innerText = "Save Updates Live";
        });

        // 4. LOCAL STORAGE FOR PACKING LIST
        window.saveChecklist = function() {
            const checkboxes = document.querySelectorAll('#packing-modal input[type="checkbox"]');
            const state = {};
            checkboxes.forEach(box => {
                state[box.id] = box.checked;
            });
            localStorage.setItem('golfPackingList', JSON.stringify(state));
        }

        window.addEventListener('load', () => {
            const savedState = JSON.parse(localStorage.getItem('golfPackingList'));
            if (savedState) {
                for (const [id, isChecked] of Object.entries(savedState)) {
                    const box = document.getElementById(id);
                    if (box) box.checked = isChecked;
                }
            }
        });
    </script>
</body>
</html>
